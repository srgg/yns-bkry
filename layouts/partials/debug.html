{{ if eq hugo.Environment "development" }}
    {{ if .Site.Params.debug }}
        <div style="padding: 0; background: #f5f5f5; font-family: monospace; white-space: pre-wrap;">
          <h4>Debug Info:</h4>
          <pre>
              Kind: {{ .Kind }}
              Section: {{ .Section }}
              Type: {{ .Type }}
              {{ with .File }}File: {{ .Path }}{{ end }}
              URL: {{ .RelPermalink }}
              Layout Type: {{ .Layout }}
              <!-- Get the actual layout file being used -->
              {{ with .Page }}
                  Current Layout Path: {{ path.Join "layouts" (printf "%s/%s.html" .Type .Kind) }}
              {{ end }}
{{/*              Current Template: {{ template.Name }}*/}}
            </pre>
          <!-- Context dump for debugging -->
          <details>
              <summary>Full Context Debug Info</summary>
              <pre>
                  Title: {{ .Title }}
                  Permalink: {{ .Permalink }}
                  Kind: {{ .Kind }}
                  Data: {{ printf "%#v" .Data }}
                  Current Section: {{ .Section }}
                  Pages: {{ len .Pages }}
                  RegularPages: {{ len .RegularPages }}
              </pre>
          </details>
        </div>
    {{ end }}
{{ end }}
